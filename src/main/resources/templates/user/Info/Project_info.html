<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{user/info/BaseResume::layout(~{::body})}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="content">
        <form th:action="list-project-info" method="post" >
            <h1>
                Now we fill your Project information
            </h1>
            <p>
                Include your full Project information.
            </p>
            <br>
            <br>
            <div class="row">
                <div class="col-md-6">
                    <label class="form-label" for="Project_Name">
                        Project Name
                    </label>
                    <input class="form-control" name="Project_Name" id="Project_Name" type="text"
                        placeholder="Please Enter Project Name" required />
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="Project_Technology">
                        Project Technology Name
                    </label>
                    <input class="form-control" name="Project_Technology" id="Project_Technology" type="text"
                        placeholder="Please Enter Your Project Technology name" required />
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="Project_DataBase">
                        Project Database Name
                    </label>
                    <input class="form-control" name="Project_DataBase" id="Project_DataBase" type="text"
                        placeholder="Please Enter Your Project Database Name" required />
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="Project_Discription">
                        Project Discription
                    </label>
                    <!-- <input class="form-control" name="Project_Discription" id="Project_Discription" type="text"
                        placeholder="Please Enter Your Project Discription" required /> -->
                        <textarea class="form-control" name="Project_Discription" id="Project_Discription" 
                        placeholder="Please Enter Your Project Discription" required ></textarea>
                </div>
                <center>
                    <div class="mt-3">
                        <button class="btn btn-back" type="reset" id="backButton">
                            Reset
                        </button>
                        <input type="submit" value="Add" class="btn btn-continue">

                    </div>
                </center>
        </form>
        <!-- <br><br><br> -->
        <div style="width: 100%; padding-bottom: 40px;"></div>
        <table class="table text-center">
            <thead>
                <tr>
                    <th scope="col">Project Name</th>
                    <th scope="col">Project Technology</th>
                    <th scope="col">Project DataBase</th>
                    <th scope="col">Project Discription</th>
                    <!-- <th scope="col">Percentage</th>
                    <th scope="col">CGPA</th> -->
                </tr>
            </thead>
            <tbody>
                <tr th:each="a : ${User_project_list}">
                    <th scope="row" th:text="${a.Project_Name}">1</th>
                    <td class="col-md-3" th:text="${a.Project_Technology}"></td>
                    <td class="col-md-4" th:text="${a.Project_DataBase}"></td>
                    <td class="col-md-4" th:text="${a.Project_Discription}"></td>
                    <!-- <td class="col-md-4" th:text="${a.Percentage}"></td>
                    <td class="col-md-4" th:text="${a.CGPA}"></td> -->
                    <!--                    <td class="col-md-3" th:text="${a.role eq 'ROLE_ADMIN' ? 'ADMIN' : 'USER'}"></td>-->
                    <!--                    <td class="col-md-1">-->
                    <!--                        <form th:action="@{/admin/make-user-dead}" method="post">-->
                    <!--                            <input type="hidden" th:value="${a.id}" name="a_id">-->
                    <!--                            <input type="submit" value="Remove User" id="CK">-->
                    <!--                        </form>-->
                    <!--                    </td>-->
                </tr>

            </tbody>
        </table>

        <div style="width: 100%; padding-bottom: 40px;"></div>

        <form th:action="save-project-info" method="post">

            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-back" type="button" id="backButton" onclick="myFunction()">
                    Back
                </button>
                <input type="submit" value="Continue" class="btn btn-continue">
            </div>
        </form>



    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script th:if="${project_info_saved}">
        Swal.fire({
            title: "Success",
            text: "Data Uploaded Successfuly!",
            icon: "success",
            allowOutsideClick: false
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/user/programming-info";
            }
        });
    </script>

    <script th:if="${project_info_added_to_list}">
        Swal.fire({
            title: "Success",
            text: "Data Uploaded Successfuly!",
            icon: "success",
            allowOutsideClick: false
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/user/project-info";
            }
        });

    </script>
    <script th:if="${project_info_not_saved}">
        Swal.fire({
            title: "Oops..",
            text: "Please Uploaded Data",
            icon: "error",
            allowOutsideClick: false
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/user/project-info";
            }
        });
    </script>
    <script>
        function myFunction() {
            window.location.href = "/user/educational-info";
        }
    </script>
</body>

</html>